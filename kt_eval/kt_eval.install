<?php

function kt_eval_schema(){
  $schema['kt_eval'] = array(
    'description' => 'Stores answers to Koumbit training evaluation', 
    'fields' => array(
      'answer_id' => array(
        'type' => 'serial', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'description' => "Answer number",
      ),  
      'formation' => array(
        'type' => 'varchar',
        'length' => 128,
        'not null' => TRUE, 
        'default' => 'formation', 
        'description' => "Name of the training",
     ), 
     'repondeur' => array(
        'type' => 'varchar',
        'length' => 128, 
        'not null' => TRUE, 
        'default' => '', 
        'description' => "Hashed respondent email",
     ),
     'apprentissage_q_1' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'apprentissage_q_2' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'apprentissage_q_3' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'apprentissage_q_4' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'apprentissage_q_5' => array(
        'type' => 'text',
        'size' => 'big', 
        'not null' => FALSE, 
        'description' => "First open question",
     ),
     'apprentissage_q_6' => array(
        'type' => 'text',
        'size' => 'big', 
        'not null' => FALSE, 
        'description' => "First open question",
     ),
     'formateur_q_1' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'formateur_q_2' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'formateur_q_3' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'formateur_q_4' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'formateur_q_5' => array(
        'type' => 'text',
        'size' => 'big', 
        'not null' => FALSE, 
        'description' => "First open question",
     ),
     'prix_q_1' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'prix_q_2' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'koumbit_q_1' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'koumbit_q_2' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'koumbit_q_3' => array(
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0, 
        'description' => "First multiple choice quesiton",
     ),
     'koumbit_q_4' => array(
        'type' => 'text',
        'size' => 'big', 
        'not null' => FALSE,
        'description' => "First open question",
     ),
   ),
    'primary key' => array('answer_id'),
    'indexes' => array(
      'formation' => array('formation'),
      'repondeur' => array('repondeur'),
     ),

  );
  return $schema;  
}

function kt_eval_install() {
  drupal_install_schema('kt_eval');
}

function kt_eval_uninstall() {
  drupal_uninstall_schema('kt_eval');
}
